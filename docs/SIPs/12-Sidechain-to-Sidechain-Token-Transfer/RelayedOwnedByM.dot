digraph {
  node [shape=square]
  rankdir=LR

  subgraph cluster_mainchain {
    label="Mainchain"

    mt [label = "MT", style = "rounded"]

    m_lb_a [ label = "LockBox\n(for sidechain A)"]
    m_lb_b [ label = "LockBox\n(for sidechain B)"]
  }

  subgraph cluster_sidechain_a {
    label="Sidechain A"
    wa_mt [label = "Wa(MT)", style = "rounded"]
  }

  subgraph cluster_sidechain_b {
    label="Sidechain B"
    wb_mt [label = "Wb(MT)", style = "rounded"]
  }

  wa_mt -> m_lb_a [label = "burn", style = "dashed"]
  m_lb_a -> mt [label = "unlock"]

  mt -> m_lb_b [label = "lock"]
  m_lb_b -> wb_mt [label = "mint", style = "dashed"]

}
