digraph {
  node [shape=record style=rounded]
  splines=false
  compound=true
  rankdir=LR

  subgraph cluster_sidechain_a {
    label="Sidechain A"
    labeljust=l
    style=dashed

    subgraph cluster_version_oracle_a {
      label="VersionOracleValidator"
      style=solid
      a_version_oracle_1 [label="UTxO with VersionOracleToken|1: FUELMintingPolicy"]
      a_version_oracle_2 [label="UTxO with VersionOracleToken|2: MerkleRootTokenValidator"]
      a_version_oracle_3 [label="UTxO with VersionOracleToken|3: MerkleRootTokenMintingPolicy"]
      a_version_oracle_100 [label="UTxO with VersionOracleToken|100: ForeignVersionOracleValidatorA"]
      a_version_oracle_110 [label="UTxO with VersionOracleToken|110: ForeignVersionOracleTokenA"]
    }
  }

  subgraph cluster_sidechain_b {
    label="Sidechain B"
    labeljust=l
    style=dashed

    subgraph cluster_version_oracle_b {
      label="VersionOracleValidator"
      style=solid
      b_version_oracle_1 [label="UTxO with VersionOracleToken|1: FUELMintingPolicy"]
      b_version_oracle_2 [label="UTxO with VersionOracleToken|2: MerkleRootTokenValidator"]
      b_version_oracle_3 [label="UTxO with VersionOracleToken|3: MerkleRootTokenMintingPolicy"]
    }
  }

  a_version_oracle_100 -> b_version_oracle_1
    [dir=back, arrowtail=odiamond, lhead=cluster_version_oracle_b, label="reference to validator"]
  a_version_oracle_110 -> b_version_oracle_1 [dir=back, arrowtail=odiamond]
  a_version_oracle_110 -> b_version_oracle_2
    [dir=back, arrowtail=odiamond, label="reference to minting policy"]
  a_version_oracle_110 -> b_version_oracle_3 [dir=back, arrowtail=odiamond]
}
